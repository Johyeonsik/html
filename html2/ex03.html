<html>
<head>
    <title>주소관리</title>
    <link rel="stylesheet" href="common.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <div id="page">
        <div id="top">
            <h1>주소관리</h1>
            <div id="menu">
                <span><a href="ex01.html">상품관리 </a></span>
                <span><a href="ex02.html">회원관리 </a></span>
                <span><a href="ex03.html">주소관리 </a></span>
            </div>
    </div>
    <div id="center">
        <form name="frm">
            <table>
                <tr>
                    <th width=100>성명</th>
                    <td width=500><input type="text" name="name" size=5></td>
                </tr>
                <tr>
                    <th width=100>주소</th>
                    <td width=500><input type="text" name="address" size=50></td>
                </tr>
                <tr>
                    <th width=100>전화</th>
                    <td width=500><input type="text" name="tel" size=20></td>
                </tr>
            </table>
            <div id="button">
                <input type="submit" class="button" value="등록">
                <input type="reset" class="button" value="취소">
            </div>
        </div>
        </form>
        <hr>
        <table id = "list" style="margin: 0px auto;">
            
        </table>
        <div id="bottom">
            <h5>Copyright 2022. 인천일보아카데미 All Rights Reserved.</h5>
        </div>
    </div>
</body>
<script>
    $(frm).on("submit", function(e){
        e.preventDefault();
        let name=$(frm.name).val();
        let tel=$(frm.tel).val();
        let address=$(frm.address).val();

        if(name==""){
                alert("이름을 입력하세요!");
                $(frm.name).focus();
            }else if(address==""){
                alert("주소를 입력하세요!")
                $(frm.address).focus();
            }else if(tel==""){
                alert("전화번호를 입력하세요!");
                $(frm.tel).focus();
            }else{
                if(!confirm("주소를 등록하실래요?"))return;
                let str = "<tr class='row'>";
                    str+="<td width=100 class='name'>"+ name + "</td>";
                    str+="<td width=400>"+ address + "</td>";
                    str+="<td width=200>"+ tel + "</td>";
                    str+="<td width 100> <button>삭제</button></td>"; 
                    str+= "</tr>";
                $("#list").append(str);
                $(frm.name).val("");
                $(frm.address).val("");
                $(frm.tel).val("");
            }
        });

        //삭제버튼을 클릭한 경우
        $("#list").on("click",".row button",function(){
            let row=$(this).parent().parent();
            let name = row.find(".name").html();
            if(!confirm(name + "을(를) 삭제하실래요?")) return;
            row.remove();
        });
 </script>
</html>